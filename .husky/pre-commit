#!/usr/bin/env bash
# Bun Gate – pre-commit gatekeeper
set -euo pipefail
echo "🛡️  Bun Gate pre-commit check…"
bun run invariant:validate
bun run gate:sign           # signs any *new* patches
git add *.sig               # stage signatures
echo "✅ Gate passed – proceeding with commit"