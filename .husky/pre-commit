#!/usr/bin/env bash
# Bun Gate â€“ pre-commit gatekeeper
set -euo pipefail
echo "ðŸ›¡ï¸  Bun Gate pre-commit checkâ€¦"
bun run invariant:validate
bun run gate:sign           # signs any *new* patches
git add *.sig 2>/dev/null || true  # stage signatures (ignore if none exist)
echo "âœ… Gate passed â€“ proceeding with commit"